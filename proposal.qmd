---
title: "STA 210 Project Proposal: A Study of Airfares in the Top 1000 U.S. City-Pair Markets"
author: "Diego Ge"
format: pdf
date: 2026-02-21
---

```{r}
#| label: library-data-import-data-wrangling
#| warning: FALSE
#| message: FALSE
#| echo: FALSE

library(readr)
library(dplyr)
library(ggplot2)
library(tidymodels)

airfare <- read_csv("data/airfare.csv")

airfare <- airfare %>% 
  filter(
    Year == 2024 | Year == 2019,
    quarter == 3
  ) %>% 
  mutate(
    fare = parse_number(fare),
    fare_lg = parse_number(fare_lg),
    fare_low = parse_number(fare_low),
    timeframe = as.factor(case_when(
      Year == 2019 ~ "2019Q3",
      Year == 2024 ~ "2024Q3",
      TRUE ~ NA
    ))
  ) %>% 
  select(
    city1, city2, nsmiles, passengers, fare, carrier_lg, large_ms, fare_lg, 
    carrier_low, lf_ms, fare_low, timeframe
  ) %>% 
  # Carrier type determination explained in code book. See data/README.md
  mutate(
    carrier_lg_type = as.factor(case_when(
      carrier_lg %in% c("DL", "UA", "AS", "AA") ~ "fullservice",
      carrier_lg %in% c("B6", "WN", "MX") ~ "lcc",
      carrier_lg %in% c("F9", "XP", "G4", "NK", "SY") ~ "ulcc",
      TRUE ~ NA
    )),
    carrier_low_type = as.factor(case_when(
      carrier_low %in% c("DL", "UA", "AS", "AA", "HA") ~ "fullservice",
      carrier_low %in% c("B6", "WN", "MX") ~ "lcc",
      carrier_low %in% c("F9", "XP", "G4", "NK", "SY") ~ "ulcc",
      TRUE ~ NA
    ))
  ) %>% 
  # Inflation adjusting for 2019 prices to match with 2024 prices. 
  # Multiplier of 1.228 sourced from Bureau of Labor Statistics.
  mutate(
    fare_adj = case_when(
      timeframe == "2024Q3" ~ fare,
      timeframe == "2019Q3" ~ fare * 1.228,
      TRUE ~ NA
    ),
    fare_lg_adj = case_when(
      timeframe == "2024Q3" ~ fare_lg,
      timeframe == "2019Q3" ~ fare_lg * 1.228,
      TRUE ~ NA
    ),
    fare_low_adj = case_when(
      timeframe == "2024Q3" ~ fare_low,
      timeframe == "2019Q3" ~ fare_low * 1.228,
      TRUE ~ NA
    )
  ) %>% 
  mutate(
    fare_adj_per_mile = fare_adj / nsmiles,
    fare_lg_adj_per_mile = fare_lg_adj / nsmiles,
    fare_low_adj_per_mile = fare_low_adj / nsmiles
  )

```

# Section 1: Introduction

What determines how much you pay for a plane ticket? When we drive from Point A to Point B, calculating cost is relatively straightforward: adding the depreciation value of the vehicle, the time-value of the drive time, and the cost of gas gives us a basically accurate estimate of how much the trip will cost in a car. Airfares, however, can vary wildly and independent from the distance traveled. 

For instance, one can fly from New Haven, CT to Tampa, FL for a distance of 1067 miles for just an average fare of 103 US Dollars (in Q4, 2024 - see `data/airfare.csv`), while a flight of 226 miles from Atlanta, GA to Charlotte, NC has an average fare of 309.22 US Dollars in Q4, 2024.

One explanation of this disparity in pricing is that on routes with little to no competitions, individual airlines are able to inflate  pricing for nonstop flights without a significant drop in demand. As there are significant capital costs and slot constraints to opening new flight routes, it can be difficult to introduce more competition to particular routes with relatively lower demand. Testing this hypothesis, Brueckner et al. 2013, using the adjacent-airport approach, shows that while low-cost carrier competition can create dramatic fare impacts, competition between legacy carriers have limited impacts on airfares.

![Airfares for Raleigh-Durham to New York City flights on Mar 4, 2026, accessed Feb 21, 2026](figures-and-media/rdu-nyc-fare-illustration.png)

# Section 2: Data Description

# Section 3: Data Processing

- Inflation adjusting for 2019 and 2024
  - https://www.bls.gov/data/inflation_calculator.htm CPI calculator, 100 USD in Sep 2019 = 122.8 USD in Sep 2024
- Adding categorical variable for type of carrier


# Section 4: Analysis Approach


